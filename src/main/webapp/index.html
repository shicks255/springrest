<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Test The Amazon Purchases Rest Service</title>

    <style>
        table td{
            border : 1px solid black;
        }
    </style>

    <script>

        function searchForId(element)
        {
            if (isNaN(element.value))
            {
                alert('Must be a numeric value');
                element.value = '';
                return;
            }

            var purchaseId = element.value;
            var xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function()
            {
                if (this.readyState == 4 && this.status == 200)
                {
                    var purchase = JSON.parse(xhttp.responseText);
                    if (purchase)
                    {
                        var table = document.createElement("table");

                        for (i in purchase)
                        {
                            var tr = document.createElement('tr');
                            var td1 = document.createElement('td');
                            var td2 = document.createElement('td');
                            var text = document.createTextNode(i);
                            var text2 = document.createTextNode(purchase[i]);

                            td1.appendChild(text);
                            td2.appendChild(text2);
                            tr.appendChild(td1);
                            tr.appendChild(td2);
                            table.appendChild(tr);
                        }

                        var box = document.getElementById('idSearchResponseBox');
                        box.appendChild(table);
                    }
                }
            }
            xhttp.open("GET", "/purchases/" + purchaseId, true);
            xhttp.send();
        }

    </script>
</head>
<body>


<label for="idSearch">Search for a Purchase</label>
<br/>
<input type="text" name="idSearch" id="idSearch" placeholder="Enter an Object Id">
<button value="Search" onclick="searchForId(this.previousElementSibling);">Search</button>
<div id="idSearchResponseBox" name="idSearchResponseBox"></div>
<hr>

<label for="textSearch">Search for a Purchase</label>
<br/>
<input type="text" name="textSearch" id="textSearch" placeholder="Enter a search value">
<button value="Search" onclick="">Search</button>

</body>
</html>